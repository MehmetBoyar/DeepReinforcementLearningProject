# Traffic Light RL Configuration

# Environment settings
environment:
  max_queue: 50
  max_duration: 120
  max_steps: 1000
  
  # Traffic arrival rates (vehicles per second)
  arrival_rates:
    N_to_S: 0.15
    N_to_E: 0.05
    N_to_W: 0.05
    S_to_N: 0.15
    S_to_W: 0.05
    S_to_E: 0.05
    E_to_W: 0.15
    E_to_S: 0.05
    E_to_N: 0.05
    W_to_E: 0.15
    W_to_N: 0.05
    W_to_S: 0.05
  
  # Reward weights
  reward_weights:
    queue_penalty: -0.1
    throughput_reward: 0.5
    switch_penalty: -1.0
    fairness_penalty: -0.05

# Q-Learning settings
q_learning:
  alpha: 0.1           # Learning rate
  gamma: 0.95          # Discount factor
  epsilon: 1.0         # Initial exploration rate
  epsilon_min: 0.01    # Minimum exploration rate
  epsilon_decay: 0.995 # Epsilon decay per episode
  
  # State discretization bins
  queue_bins: [0, 1, 6, 11, 21]
  duration_bins: [0, 11, 31, 61]

# DQN settings
dqn:
  learning_rate: 0.001
  gamma: 0.99
  epsilon: 1.0
  epsilon_min: 0.01
  epsilon_decay: 0.995
  buffer_capacity: 100000
  batch_size: 64
  target_update_freq: 100
  hidden_dims: [128, 128, 64]
  use_dueling: false
  use_double: false

# Training settings
training:
  n_episodes: 1000
  eval_frequency: 100   # Evaluate every N episodes
  save_frequency: 200   # Save model every N episodes
  seed: 42
  
  # Early stopping
  early_stopping: false
  patience: 50          # Episodes without improvement before stopping
  min_improvement: 0.01

# Evaluation settings
evaluation:
  n_episodes: 50
  render: false
  save_results: true

# Baseline settings
baselines:
  fixed_time:
    phase_durations:
      0: 30  # N-S through
      1: 15  # N-S protected left
      2: 30  # E-W through
      3: 15  # E-W protected left
  
  adaptive:
    min_phase_duration: 10
    max_phase_duration: 60
    queue_threshold: 5.0
    switch_threshold: 0.3

# Output settings
output:
  log_dir: "logs"
  model_dir: "models"
  results_dir: "results"
  save_plots: true

scenarios:
  low_traffic:
    description: "Unsaturated (Robustness Test)"
    arrival_factor: 1.0 
  
  high_traffic:
    description: "Saturated (Performance Test)"
    arrival_factor: 4.0
     
  saturation_traffic:
    description: "Stress Test (Gridlock Limit)"
    arrival_factor: 6.0 